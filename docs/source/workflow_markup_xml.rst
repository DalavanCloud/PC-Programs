XML Markup workflow
===================

.. toctree::
   :maxdepth: 3


Files specifications
--------------------
- one document (article or text) by file
- .doc or .html
- all the files related to the document must have the same name or start with same name plus hyphen. For instance, a01.pdf, a01-f01.jpg (image of the figure 1), a01-en.pdf (PDF of the English version)

Files location
--------------

Organize the files according to this files/folders structure.

- .doc, .docx file:
    /<ANY_LOCATION>/<acron>/<issue_identification>/markup_xml/scielo_markup
- images, pdf, etc:
    /<ANY_LOCATION>/<acron>/<issue_identification>/markup_xml/src


For instance:

.. image:: img/markup_file_system.png


Article Files Template for doc DTD 4.0.090
------------------------------------------

First line: DOI number. Only the number, not the URL, if applicable.

Following line: Section title

Following line: Original article title

Following lines: translation of article titles, one title by line, if applicable.

New line in order to separate the article titles from authors

Following lines: authors, one author by line with their corresponding links to affiliations or notes identified by superscript format.

E.g.:

    José da Silva :sup:`1`

    Maria de Lourdes Camargo :sup:`2`


If the link text is a number, it is automatically identified as xref, otherwise, the user must be manually identified it.

New line in order to separate the authors from affiliations.

Following lines: affiliations, one affiliation by line.

New line in order to separate the affiliations from the continuation of the document.


<body>
------

- Body section: use bold, centralized, size=16
- Subsection (level 1): use bold, centralized, size=14
- Subsection (level 2): use bold, centralized, size=13


Input files for Markup
----------------------

Journals of www.scielo.org
...........................

Only if it is a journal of www.scielo.org, use the menu to update the journal list.

   .. image:: img/scielo_menu_download_journals.png


Other journals
..............

You must not have /scielo/bin/markup/markup_journals_list.csv. If you do, delete it.

Instead, you must have:
- ??_issue.mds: updated/created as any issue number’s data is updated/created
- issue.mds: updated/created as any issue number’s data is updated/created
- journal-standard.txt: updated/created as any journal’s data is updated/created

These files are generated by `Title Manager <titlemanager.html>`_ or `SciELO Manager <http://docs.scielo.org/projects/scielo-manager/en/latest/>`_.


.. note::
   Title Manager generates these files in the /scielo/bin/markup in the computer where Title Manager runs.
   So, if you use Markup in other computer, you have to copy these files to the computer where Markup runs.
    

Markup
------

Use `Markup Program <markup.html>`_.


Results
-------

scielo_package
..............
    XML Files according to `SPS <http://docs.scielo.org/projects/scielo-publishing-schema/>`_

    purpose
        used by `XML Converter <xml_converter.html>`_
    location
        /<ANY_LOCATION>/<acron>/<issue_identification>/markup_xml/scielo_package

scielo_package_zips
...................
    Compacted files of `scielo_package`_

    purpose
        to send to SciELO
    location
        /<ANY_LOCATION>/<acron>/<issue_identification>/markup_xml/scielo_package_zips

errors
......
    Reports of XML files generation and validations

    purpose
        inform errors of the generation process
        inform errors found in XML files generated to be fixed by the user
    location
        /<ANY_LOCATION>/<acron>/<issue_identification>/markup_xml/errors
    note
        must be sent to SciELO with `scielo_package_zips`_

work
....
    Temporary folder used during the generation/validation of XML files

    purpose
        used to get any support from SciELO Team, otherwise can be deleted
    location
        /<ANY_LOCATION>/<acron>/<issue_identification>/markup_xml/work

----------------

Last update of this page: August 2015
